WHEN DOCUMENT IS DEACTIVATEd, UPDATE is IMPOSSIBLE
Operation is irreversible

### Rules to Follow When Adapting HackSoft’s Styleguide with Django-Ninja and ninja_extra

1. **Keep Business Logic in Services & Selectors**
   - ✅ **Do**: Place all write operations in `services`, read operations in `selectors`.
   - ❌ **Avoid**: Embedding logic in controllers or views. 

2. **Use `ninja_extra.APIController` for Organization Only**
   - Controllers should be thin—only route HTTP requests to services.
   - Example:
     ```python
     @api_controller("users")
     class UserController:
         @http_post("/")
         def create_user(self, email: str):
             user = user_create(email=email)  # call service
             return user
     ```

3. **Leverage Dependency Injection Safely**
   - Use `@inject` to inject services, but ensure they are **stateless** and **testable**.
   - Register dependencies properly (e.g., via `injector`). 

4. **Never Use `ModelController` for Domain-Critical Logic**
   - Auto-generated CRUD bypasses service layer.
   - ✅ Use only for admin/internal APIs with minimal logic. 

5. **Preserve Selector Pattern for Queries**
   - Use selectors to encapsulate complex or permission-aware database access.
   - Prevent N+1 issues and ensure reusability. 

6. **Use Pydantic Schemas, Not DRF Serializers**
   - Define `InputSchema` and `OutputSchema` explicitly.
   - Keep them close to endpoints or in a `schemas/` module.

7. **Maintain One HTTP Verb Per Endpoint**
   - Avoid overloading methods; keep REST clarity.

8. **Handle Errors Consistently**
   - Use `api.exception_handler()` to map exceptions (e.g., `ValidationError`) to standard API responses. 

9. **Separate URLs, Views, and Business Logic**
   - No logic in `urls.py` or routing files.
   - Keep `api.py`, `services.py`, `selectors.py` independent. 

10. **Test Services and Selectors in Isolation**
    - Unit test services without HTTP overhead.
    - Mock services in controller tests to verify routing and input/output.
    
pycryptodome
ecdsa + pyasn1